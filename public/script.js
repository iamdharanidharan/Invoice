(()=>{"use strict";var e={840:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Account=void 0;var n=function(){function e(e,t,n){this.balance=0,this.ID=e,this.customer=t,void 0!==n&&(this.balance=n)}return e.prototype.getID=function(){return this.ID},e.prototype.getCustomer=function(){return this.customer},e.prototype.getBalance=function(){return this.balance},e.prototype.setBalance=function(e){this.balance=+e.toFixed(2)},e.prototype.toString=function(){return this.getCustomerName()+"("+this.ID+") balance=$"+this.balance},e.prototype.getCustomerName=function(){return this.customer.getName()},e.prototype.deposit=function(e){return this.balance+=e,this},e.prototype.withdraw=function(e){return this.balance>=e&&(this.balance-=e,!0)},e}();t.Account=n},297:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Customer=void 0;var n=function(){function e(e,t,n){this.ID=e,this.name=t,this.discount=n}return e.prototype.getID=function(){return this.ID},e.prototype.getName=function(){return this.name},e.prototype.getDiscount=function(){return this.discount},e.prototype.setDiscount=function(e){this.discount=e},e}();t.Customer=n},607:(e,t,n)=>{var o=n(297),r=n(840),u=n(386),c=[],a=[],i=[];document.getElementById("addCustomer-btn").addEventListener("click",(function(){return m()})),document.getElementById("purchase-btn").addEventListener("click",(function(){return p()})),document.getElementById("displayModal-btn").addEventListener("click",(function(){return v()})),document.getElementById("deposit-btn").addEventListener("click",(function(){return d()})),document.getElementById("withdraw-btn").addEventListener("click",(function(){return l()}));var m=function(){var e=document.getElementById("customerName").value.trim(),t=+document.getElementById("discount").value;if(""!==e&&t>=0){var n=new o.Customer(c.length+1,e,t);c.push(n),document.getElementById("customerName").value="",document.getElementById("discount").value="",s();var u=new r.Account(a.length+1,n);a.push(u)}},s=function(){var e=document.getElementById("purchaseCustomerList");e.innerHTML="";var t=document.getElementById("walletCustomerList");t.innerHTML="";var n=document.createElement("option");for(var o in n.selected=!0,n.innerHTML="Select...",t.append(n),(n=document.createElement("option")).selected=!0,n.innerHTML="Select...",e.append(n),c){var r=document.createElement("option");r.value=c[o].getID().toString(),r.innerHTML=c[o].getName(),r.selected=!1,e.append(r),(r=document.createElement("option")).value=c[o].getID().toString(),r.innerHTML=c[o].getName(),r.selected=!1,t.append(r)}},d=function(){var e=+document.getElementById("walletCustomerList").value,t=+document.getElementById("walletAmount").value;if(NaN!==e&&0!=t){var n=void 0;for(var o in a)a[o].customer.ID==e&&(n=a[o].customer,a[o].deposit(t),h("Amount Deposited. "+a[o].toString(),"alert-success"));if(document.getElementById("generateInvoice").checked){var r=new u.Invoice(i.length+1,n,t,"Amount Deposit");i.push(r),g(r)}document.getElementById("walletCustomerList").options[0].selected=!0,document.getElementById("walletAmount").value=""}},l=function(){var e=+document.getElementById("walletCustomerList").value,t=+document.getElementById("walletAmount").value;if(NaN!==e&&0!=t){var n=void 0,o=void 0;for(var r in a)a[r].customer.ID==e&&(n=a[r].customer,(o=a[r].withdraw(t))?h("Amount withdrawed. "+a[r].toString(),"alert-primary"):h("Withdrawl amount Exceeds balance. Try again!","alert-danger"));if(document.getElementById("generateInvoice").checked&&o){var c=new u.Invoice(i.length+1,n,t,"Amount withdrawed");i.push(c),g(c)}document.getElementById("walletCustomerList").options[0].selected=!0,document.getElementById("walletAmount").value=""}},p=function(){var e=+document.getElementById("purchaseCustomerList").value,t=+document.getElementById("purchaseAmount").value;if(NaN!==e&&0!=t){var n;for(var o in a)a[o].customer.ID==e&&(n=a[o]);var r=new u.Invoice(i.length+1,n.getCustomer(),t,"Purchase");n.getBalance()>=r.getAmountAfterDiscount()?(n.setBalance(n.getBalance()-r.getAmountAfterDiscount()),i.push(r),g(r),h("Purchase Successful!!","alert-success")):h("Balance is low. Deposit Amount to make purchase.","alert-danger"),document.getElementById("purchaseCustomerList").options[0].selected=!0,document.getElementById("purchaseAmount").value=""}},g=function(e){var t=document.getElementById("invoiceTable");if(0==t.childElementCount){var n=document.createElement("table");n.setAttribute("class","table table-hover");var o=document.createElement("caption");o.id="tableCaption",o.innerHTML="Total Invoices "+i.length;var r=document.createElement("thead");r.setAttribute("class","thead-dark");var u=document.createElement("tbody");u.id="tableBody";var c=document.createElement("tr");(a=document.createElement("th")).setAttribute("scope","col"),a.innerHTML="Invoice no.",c.append(a),(a=document.createElement("th")).setAttribute("scope","col"),a.innerHTML="Customer Name",c.append(a),(a=document.createElement("th")).setAttribute("scope","col"),a.innerHTML="Details",c.append(a),(a=document.createElement("th")).setAttribute("scope","col"),a.innerHTML="Amount",c.append(a),(a=document.createElement("th")).setAttribute("scope","col"),a.innerHTML="After Discount",c.append(a),r.append(c),n.append(o,r,u),t.append(n)}var a,m=document.getElementById("tableBody");document.getElementById("tableCaption").innerHTML="Total Invoices "+i.length,c=document.createElement("tr"),(a=document.createElement("th")).setAttribute("scope","row"),a.innerHTML=i.length.toString();var s=document.createElement("td");s.innerHTML=e.getCustomerName(),c.append(a,s),(s=document.createElement("td")).innerHTML=e.details,c.append(s),(s=document.createElement("td")).innerHTML="$"+e.getAmount(),c.append(s),s=document.createElement("td"),"Purchase"===e.details?s.innerHTML="$"+e.getAmountAfterDiscount():s.innerHTML="-",c.append(s),m.append(c)},v=function(){var e=+document.getElementById("purchaseCustomerList").value,t=+document.getElementById("purchaseAmount").value;if(NaN!==e&&0!=t){var n;for(var o in a)a[o].customer.ID==e&&(n=a[o]);var r=+(n.getCustomer().getDiscount()*t/100).toFixed(2),u=t-r;document.getElementById("purchaseConfirm").innerText="Amount : "+t+"\n         Discount : "+r+"\n         Amount after Discount : "+u+" "}else document.getElementById("purchaseConfirm").innerText="Invalid Data"},h=function(e,t){document.getElementById("myalert-message").innerHTML=e,document.getElementById("myalert").style.display="block";var n=document.getElementById("myalert").className;n=(n=(n=n.replace("alert-danger","")).replace("alert-success","")).replace("alert-primary",""),document.getElementById("myalert").className=n+" "+t}},386:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Invoice=void 0;var n=function(){function e(e,t,n,o){this.ID=e,this.customer=t,this.details=o,this.amount=n}return e.prototype.getID=function(){return this.ID},e.prototype.getCustomer=function(){return this.customer},e.prototype.setCustomer=function(e){this.customer=e},e.prototype.getAmount=function(){return this.amount},e.prototype.setAmount=function(e){this.amount=e},e.prototype.getCustomerName=function(){return this.customer.name},e.prototype.getAmountAfterDiscount=function(){return+(this.amount-this.amount*this.customer.getDiscount()/100).toFixed(2)},e}();t.Invoice=n}},t={};!function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(607)})();